![1592829633450](D:\yu\资料\学习\大数据之路径.assets\1592829633450.png)



![image-20200622204557519](D:\yu\资料\学习\大数据之路径.assets\image-20200622204557519.png)



9.3.2  模型层次
阿里巴巴的数据团队把表数据模型分为三层：操作数据层（ODS）、
公共维度模型层（CDM）和应用数据层（ADS）， 其中公共维度模型层
包括明细数据层（DWD）和汇总数据层（DWS）。模型层次关系如图
9.9所示。
操作数据层（ODS）：把操作系统数据几乎无处理地存放在数据仓
库系统中。
· 同步：结构化数据增量或全量同步到MaxCompute。
· 结构化：非结构化（日志）结构化处理并存储至lj MaxCompt闹。
． 累积历史、清洗：根据数据业务需求及稽核和审计要求保存历史
数据、清洗数据。



![image-20200622210105960](D:\yu\资料\学习\大数据之路径.assets\image-20200622210105960.png)
图9.9 模型层次关系图

公共维度模型层（CDM）：存放明细事实数据、维表数据及公共指
标汇总数据， 其中明细事实数据、维表数据一般根据ODS层数据加工
生成：公共指标汇总数据一般根据维表数据和明细事实数据加工生成。
CDM层又细分为DWD层和DWS层，分别是明细数据层和汇总数
据层，采用维度模型方法作为理论基础， 更多地采用一些维度退化手法，
将维度退化至事实表中，减少事实表和维表的关联，提高明细数据表的
易用性：同时在汇总数据层，加强指标的维度退化，采取更多的宽表化
手段构建公共指标数据层，提升公共指标的复用性，减少重复加工。其
主要功能如下。
·组合相关和相似数据：采用明细宽表，复用关联计算，减少数据
扫描。
·公共指标统一加工：基于OneData体系构建命名规范、口径一致
和算法统一的统计指标，为上层数据产品、应用和服务提供公共
指标z 建立逻辑汇总宽表。
． 建立一致性维度：建立一致的数据分析维表，降低数据计算口径、
算法不统一的风险。
应用数据层（ADS）：存放数据产品个性化的统计指标数据，根据
CDM层与ODS层加工生成。
149 .iii 
一寸大数据之路一一阿里巴巴大数据实践
·个性化指标加工：不公用性、复杂性（指数型、比值型、排名型
指标）。
．基于应用的数据组装： 大宽表集市、横表转纵表、趋势指标串。
其模型架构如图9.10所示。阿里巴巴通过构建全域的公共层数据，
极大地控制了数据规模的增长趋势，同时在整体的数据研发效率、成本
节约、性能改进方面都有不错的效果。

![image-20200622210127131](D:\yu\资料\学习\大数据之路径.assets\image-20200622210127131.png)